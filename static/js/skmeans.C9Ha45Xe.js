import{g as r}from"./@turf.Cn_N4SL6.js";var t={eudist:function(r,t,a){for(var o=r.length,n=0,f=0;f<o;f++){var e=(r[f]||0)-(t[f]||0);n+=e*e}return a?Math.sqrt(n):n},mandist:function(r,t,a){for(var o=r.length,n=0,f=0;f<o;f++)n+=Math.abs((r[f]||0)-(t[f]||0));return a?Math.sqrt(n):n},dist:function(r,t,a){var o=Math.abs(r-t);return a?o:o*o}},a=t.eudist,o=t.dist,n={kmrand:function(r,t){for(var a={},o=[],n=t<<2,f=r.length,e=r[0].length>0;o.length<t&&n-- >0;){var i=r[Math.floor(Math.random()*f)],v=e?i.join("_"):""+i;a[v]||(a[v]=!0,o.push(i))}if(o.length<t)throw new Error("Error initializating clusters");return o},kmpp:function(r,t){var n=r[0].length?a:o,f=[],e=r.length,i=r[0].length>0,v=r[Math.floor(Math.random()*e)];for(i&&v.join("_"),f.push(v);f.length<t;){for(var h=[],s=f.length,u=0,l=[],p=0;p<e;p++){for(var c=1/0,d=0;d<s;d++){var g=n(r[p],f[d]);g<=c&&(c=g)}h[p]=c}for(var m=0;m<e;m++)u+=h[m];for(var M=0;M<e;M++)l[M]={i:M,v:r[M],pr:h[M]/u,cs:0};l.sort((function(r,t){return r.pr-t.pr})),l[0].cs=l[0].pr;for(var k=1;k<e;k++)l[k].cs=l[k-1].cs+l[k].pr;for(var b=Math.random(),j=0;j<e-1&&l[j++].cs<b;);f.push(l[j-1].v)}return f}},f=t,e=f.eudist,i=n.kmrand,v=n.kmpp;function h(r,t,a){a=a||[];for(var o=0;o<r;o++)a[o]=t;return a}const s=r((function(r,t,a,o){var n=[],f=[],s=[],u=[],l=!1,p=o||1e4,c=r.length,d=r[0].length,g=d>0,m=[];if(a)n="kmrand"==a?i(r,t):"kmpp"==a?v(r,t):a;else for(var M={};n.length<t;){var k=Math.floor(Math.random()*c);M[k]||(M[k]=!0,n.push(r[k]))}do{h(t,0,m);for(var b=0;b<c;b++){for(var j=1/0,w=0,q=0;q<t;q++){(u=g?e(r[b],n[q]):Math.abs(r[b]-n[q]))<=j&&(j=u,w=q)}s[b]=w,m[w]++}for(var x=[],E=(f=[],0);E<t;E++)x[E]=g?h(d,0,x[E]):0,f[E]=n[E];if(g){for(var _=0;_<t;_++)n[_]=[];for(var z=0;z<c;z++)for(var y=x[s[z]],A=r[z],B=0;B<d;B++)y[B]+=A[B];l=!0;for(var C=0;C<t;C++){for(var D=n[C],F=x[C],G=f[C],H=m[C],I=0;I<d;I++)D[I]=F[I]/H||0;if(l)for(var J=0;J<d;J++)if(G[J]!=D[J]){l=!1;break}}}else{for(var K=0;K<c;K++){x[s[K]]+=r[K]}for(var L=0;L<t;L++)n[L]=x[L]/m[L]||0;l=!0;for(var N=0;N<t;N++)if(f[N]!=n[N]){l=!1;break}}l=l||--p<=0}while(!l);return{it:1e4-p,k:t,idxs:s,centroids:n}}));export{s};
