const _0x2dc757=_0x3bfe;(function(_0x4dab50,_0x1ba652){const _0x262582={_0x3de301:0xbe,_0x42ee50:0xc0,_0x57fc80:0xb6,_0x371baf:0xc4,_0x4cfd8e:0xba,_0x41d690:0xc6,_0x52fbc8:0xb2},_0x4110ca=_0x3bfe,_0x1a557f=_0x4dab50();while(!![]){try{const _0x1f42c3=parseInt(_0x4110ca(0xc2))/0x1*(-parseInt(_0x4110ca(_0x262582._0x3de301))/0x2)+parseInt(_0x4110ca(_0x262582._0x42ee50))/0x3+-parseInt(_0x4110ca(_0x262582._0x57fc80))/0x4+parseInt(_0x4110ca(_0x262582._0x371baf))/0x5*(-parseInt(_0x4110ca(0xbd))/0x6)+-parseInt(_0x4110ca(0xbb))/0x7+-parseInt(_0x4110ca(_0x262582._0x4cfd8e))/0x8*(-parseInt(_0x4110ca(_0x262582._0x41d690))/0x9)+parseInt(_0x4110ca(_0x262582._0x52fbc8))/0xa;if(_0x1f42c3===_0x1ba652)break;else _0x1a557f['push'](_0x1a557f['shift']());}catch(_0x4c1d6e){_0x1a557f['push'](_0x1a557f['shift']());}}}(_0x5c3b,0x19a6f));const _0x38e88a=(function(){const _0x3920ee={_0x2ae53c:0xb7};let _0x2c0f7d=!![];return function(_0x5ab010,_0x2a1b45){const _0x136e99=_0x2c0f7d?function(){const _0x725666=_0x3bfe;if(_0x2a1b45){const _0x16b459=_0x2a1b45[_0x725666(_0x3920ee._0x2ae53c)](_0x5ab010,arguments);return _0x2a1b45=null,_0x16b459;}}:function(){};return _0x2c0f7d=![],_0x136e99;};}());(function(){const _0x4d501a={_0x7413e2:0xb0,_0x373be0:0xb5,_0x579893:0xc7,_0x7f38e0:0xc1};_0x38e88a(this,function(){const _0x14ebaf=_0x3bfe,_0x4b128b=new RegExp(_0x14ebaf(_0x4d501a._0x7413e2)),_0x5e8087=new RegExp(_0x14ebaf(0xc5),'i'),_0x503bdd=_0x317153(_0x14ebaf(_0x4d501a._0x373be0));!_0x4b128b[_0x14ebaf(_0x4d501a._0x579893)](_0x503bdd+_0x14ebaf(0xbf))||!_0x5e8087[_0x14ebaf(0xc7)](_0x503bdd+_0x14ebaf(_0x4d501a._0x7f38e0))?_0x503bdd('0'):_0x317153();})();}());function _0x5c3b(){const _0x2b7cd2=['function\x20*\x5c(\x20*\x5c)','constructor','2331610SuCLPF','while\x20(true)\x20{}','stateObject','init','189772tywiiP','apply','<template>\x0d\x0a\x20\x20<div\x20class=\x22container\x22>\x0d\x0a\x20\x20\x20\x20<div\x20class=\x22btn_wrapper\x22>\x0d\x0a\x20\x20\x20\x20\x20\x20<el-button\x20type=\x22primary\x22\x20size=\x22small\x22\x20@click=\x22setFlatten(true)\x22>压平</el-button>\x0d\x0a\x20\x20\x20\x20\x20\x20<el-button\x20type=\x22primary\x22\x20size=\x22small\x22\x20@click=\x22setFlatten(false)\x22>还原</el-button>\x0d\x0a\x20\x20\x20\x20</div>\x0d\x0a\x20\x20\x20\x20<div\x20class=\x22cesiumContainer\x22\x20id=\x22cesiumContainer\x22>\x0d\x0a\x20\x20\x20\x20\x20\x20<StatusBar\x20/>\x0d\x0a\x20\x20\x20\x20</div>\x0d\x0a\x20\x20</div>\x0d\x0a</template>\x0d\x0a\x0d\x0a<script\x20setup>\x0d\x0aimport\x20*\x20as\x20Cesium\x20from\x20\x27cesium\x27\x0d\x0aimport\x20{\x20onMounted\x20}\x20from\x20\x27vue\x27\x0d\x0aconst\x20{\x20setMainViewer\x20}\x20=\x20useViewerHook()\x0d\x0a\x0d\x0alet\x20viewer,\x20tileset,\x20flatTool,\x20flattenId\x0d\x0a\x0d\x0aconst\x20setFlatten\x20=\x20(flag)\x20=>\x20{\x0d\x0a\x20\x20if\x20(!tileset)\x20return\x0d\x0a\x20\x20if\x20(flag)\x20{\x0d\x0a\x20\x20\x20\x20const\x20positions\x20=\x20[\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126934.7568454565,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453018.483068019,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.973914812\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126917.5886962325,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453025.186530576,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.9586775447\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126899.1057695798,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453029.334152733,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525552.524629772\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126906.815481169,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205452971.059293756,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525671.053333011\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126940.8153528497,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205452961.344654709,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525663.4466069858\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126934.7568454565,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453018.483068019,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.973914812\x0d\x0a\x20\x20\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20]\x0d\x0a\x20\x20\x20\x20viewer.entities.removeAll()\x0d\x0a\x20\x20\x20\x20const\x20entity\x20=\x20new\x20Cesium.Entity({\x0d\x0a\x20\x20\x20\x20\x20\x20polygon:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20hierarchy:\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20heightReference:\x20Cesium.HeightReference.CLAMP_TO_3D_TILE,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20material:\x20Cesium.Color.fromBytes(180,\x20180,\x20180,\x200.3)\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20polyline:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20clampToGround:\x20true,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20material:\x20Cesium.Color.fromCssColorString(\x27#1be0e1\x27).withAlpha(0.8),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x202\x0d\x0a\x20\x20\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x20\x20\x20\x20viewer.entities.add(entity)\x0d\x0a\x0d\x0a\x20\x20\x20\x20viewer.camera.flyTo({\x0d\x0a\x20\x20\x20\x20\x20\x20destination:\x20new\x20Cesium.Cartesian3(-2126781.8813883066,\x205453218.818394652,\x202525725.3760789027),\x0d\x0a\x20\x20\x20\x20\x20\x20orientation:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20heading:\x20Cesium.Math.toRadians(106),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20pitch:\x20Cesium.Math.toRadians(-42.0),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20roll:\x200.0\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20duration:\x200\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(!flatTool)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20flatTool\x20=\x20new\x20Analysis.TilesetFlat(tileset,\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20flatHeight:\x20-83\x0d\x0a\x20\x20\x20\x20\x20\x20})\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20flatTool.removeRegionById(flattenId)\x0d\x0a\x20\x20\x20\x20flattenId\x20=\x20new\x20Date().getTime()\x0d\x0a\x20\x20\x20\x20flatTool.addRegion({\x0d\x0a\x20\x20\x20\x20\x20\x20positions:\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20id:\x20flattenId\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20flatTool.removeRegionById(flattenId)\x0d\x0a\x20\x20}\x0d\x0a}\x0d\x0a\x0d\x0aonMounted(async\x20()\x20=>\x20{\x0d\x0a\x20\x20Cesium.Ion.defaultAccessToken\x20=\x20CesiumAccessTokenConf.accessToken\x0d\x0a\x20\x20viewer\x20=\x20new\x20Cesium.Viewer(\x27cesiumContainer\x27,\x20{\x0d\x0a\x20\x20\x20\x20animation:\x20false,\x20//\x20是否创建动画小器件，左下角仪表\x0d\x0a\x20\x20\x20\x20baseLayerPicker:\x20false,\x20//\x20是否显示图层选择器\x0d\x0a\x20\x20\x20\x20fullscreenButton:\x20false,\x20//\x20是否显示全屏按钮\x0d\x0a\x20\x20\x20\x20vrButton:\x20false,\x20//\x20用于切换\x20VR\x20模式的单个按钮小部件。\x0d\x0a\x20\x20\x20\x20geocoder:\x20false,\x20//\x20//是否显示geocoder小器件，右上角查询按钮\x0d\x0a\x20\x20\x20\x20homeButton:\x20false,\x20//\x20是否显示Home按钮\x0d\x0a\x20\x20\x20\x20infoBox:\x20false,\x20//\x20是否显示信息框\x0d\x0a\x20\x20\x20\x20sceneModePicker:\x20false,\x20//\x20是否显示3D/2D选择器\x0d\x0a\x20\x20\x20\x20selectionIndicator:\x20false,\x20//\x20是否显示选取指示器组件\x0d\x0a\x20\x20\x20\x20timeline:\x20false,\x20//\x20是否显示时间轴\x0d\x0a\x20\x20\x20\x20navigationHelpButton:\x20false,\x20//\x20是否显示右上角的帮助按钮\x0d\x0a\x20\x20\x20\x20navigationInstructionsInitiallyVisible:\x20false,\x0d\x0a\x20\x20\x20\x20scene3DOnly:\x20false,\x20//\x20如果设置为true，则所有几何图形以3D模式绘制以节约GPU资源\x0d\x0a\x20\x20\x20\x20shouldAnimate:\x20false,\x20//\x20初始化是否开始动画\x0d\x0a\x20\x20\x20\x20contextOptions:\x20{\x20webgl:\x20{\x20alpha:\x20true,\x20preserveDrawingBuffer:\x20true\x20},\x20requestWebgl1:\x20true\x20}\x20//\x20webgl1\x0d\x0a\x20\x20})\x0d\x0a\x0d\x0a\x20\x20const\x20control\x20=\x20viewer.scene.screenSpaceCameraController\x0d\x0a\x20\x20control.tiltEventTypes\x20=\x20Cesium.CameraEventType.RIGHT_DRAG\x0d\x0a\x20\x20control.zoomEventTypes\x20=\x20[\x0d\x0a\x20\x20\x20\x20Cesium.CameraEventType.WHEEL,\x0d\x0a\x20\x20\x20\x20Cesium.CameraEventType.PINCH\x0d\x0a\x20\x20]\x0d\x0a\x20\x20viewer.scene.globe.depthTestAgainstTerrain\x20=\x20true\x0d\x0a\x20\x20setMainViewer(viewer)\x0d\x0a\x0d\x0a\x20\x20//\x203dtiles\x0d\x0a\x20\x20const\x20scene\x20=\x20viewer.scene\x0d\x0a\x20\x20const\x20resource\x20=\x20await\x20Cesium.IonResource.fromAssetId(CesiumIonAssetConf.WZ_3DTILES)\x0d\x0a\x20\x20tileset\x20=\x20await\x20Cesium.Cesium3DTileset.fromUrl(resource)\x0d\x0a\x20\x20tileset.maximumScreenSpaceError\x20=\x201\x0d\x0a\x20\x20changeHeight(tileset,\x2060)\x0d\x0a\x20\x20scene.primitives.add(tileset)\x0d\x0a\x20\x20setFlatten(true)\x0d\x0a\x0d\x0a\x20\x20function\x20changeHeight(tileset,\x20height)\x20{\x0d\x0a\x20\x20\x20\x20const\x20cartographic\x20=\x20Cesium.Cartographic.fromCartesian(\x0d\x0a\x20\x20\x20\x20\x20\x20tileset.boundingSphere.center\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20surface\x20=\x20Cesium.Cartesian3.fromRadians(\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.longitude,\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.latitude,\x0d\x0a\x20\x20\x20\x20\x20\x200.0\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20offset\x20=\x20Cesium.Cartesian3.fromRadians(\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.longitude,\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.latitude,\x0d\x0a\x20\x20\x20\x20\x20\x20height\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20translation\x20=\x20Cesium.Cartesian3.subtract(\x0d\x0a\x20\x20\x20\x20\x20\x20offset,\x0d\x0a\x20\x20\x20\x20\x20\x20surface,\x0d\x0a\x20\x20\x20\x20\x20\x20new\x20Cesium.Cartesian3()\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20tileset.modelMatrix\x20=\x20Cesium.Matrix4.fromTranslation(translation)\x0d\x0a\x20\x20}\x0d\x0a})\x0d\x0a\x0d\x0a</script>\x0d\x0a<style\x20scoped>\x0d\x0a.container\x20{\x0d\x0a\x20\x20position:\x20relative;\x0d\x0a\x20\x20width:\x20100%;\x0d\x0a\x20\x20height:\x20100%;\x0d\x0a\x0d\x0a\x20\x20.cesiumContainer\x20{\x0d\x0a\x20\x20\x20\x20width:\x20100%;\x0d\x0a\x20\x20\x20\x20height:\x20100%;\x0d\x0a\x20\x20\x20\x20overflow:\x20hidden\x0d\x0a\x20\x20}\x0d\x0a\x0d\x0a\x20\x20.btn_wrapper\x20{\x0d\x0a\x20\x20\x20\x20position:\x20absolute;\x0d\x0a\x20\x20\x20\x20left:\x2050px;\x0d\x0a\x20\x20\x20\x20top:\x2010px;\x0d\x0a\x20\x20\x20\x20z-index:\x201;\x0d\x0a\x20\x20}\x0d\x0a\x0d\x0a\x20\x20.dialog\x20{\x0d\x0a\x20\x20\x20\x20width:\x20380px;\x0d\x0a\x20\x20}\x0d\x0a}\x0d\x0a</style>\x0d\x0a','debu','8IDnijP','275058jVgnOd','counter','42wGkIWx','4vaVwSd','chain','320793Ghsdlq','input','65743nCXWHB','call','132300jaNvJQ','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','1515798qfDliG','test','action','gger'];_0x5c3b=function(){return _0x2b7cd2;};return _0x5c3b();}const n=_0x2dc757(0xb8);export{n as default};function _0x3bfe(_0x566efa,_0x5debca){const _0xeea2bd=_0x5c3b();return _0x3bfe=function(_0x317153,_0x38e88a){_0x317153=_0x317153-0xb0;let _0x5c3bab=_0xeea2bd[_0x317153];return _0x5c3bab;},_0x3bfe(_0x566efa,_0x5debca);}function _0x317153(_0x318abd){const _0x4048b0={_0x550d00:0xb1,_0x3988a7:0xb1,_0x4e9e6e:0xc9,_0x3367ca:0xc3,_0x40eec5:0xb9};function _0x3fed81(_0x14caed){const _0x160451=_0x3bfe;if(typeof _0x14caed==='string')return function(_0x395f6a){}[_0x160451(_0x4048b0._0x550d00)](_0x160451(0xb3))[_0x160451(0xb7)](_0x160451(0xbc));else(''+_0x14caed/_0x14caed)['length']!==0x1||_0x14caed%0x14===0x0?function(){return!![];}[_0x160451(_0x4048b0._0x3988a7)](_0x160451(0xb9)+_0x160451(_0x4048b0._0x4e9e6e))[_0x160451(_0x4048b0._0x3367ca)](_0x160451(0xc8)):function(){return![];}['constructor'](_0x160451(_0x4048b0._0x40eec5)+_0x160451(_0x4048b0._0x4e9e6e))['apply'](_0x160451(0xb4));_0x3fed81(++_0x14caed);}try{if(_0x318abd)return _0x3fed81;else _0x3fed81(0x0);}catch(_0x5c5606){}}