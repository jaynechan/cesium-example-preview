(function(_0x1def31,_0x23cd21){const _0x55933b={_0x17fe5f:0x1ba,_0x4ec595:0x1c9,_0x5ca337:0x1b8,_0x622596:0x1cf,_0x4cd52a:0x1b4,_0x40141f:0x1af,_0x1f157d:0x1d1},_0xa9ef54=_0x240e,_0x1a9274=_0x1def31();while(!![]){try{const _0x57f0b9=-parseInt(_0xa9ef54(_0x55933b._0x17fe5f))/0x1*(-parseInt(_0xa9ef54(_0x55933b._0x4ec595))/0x2)+parseInt(_0xa9ef54(0x1b6))/0x3*(-parseInt(_0xa9ef54(0x1d6))/0x4)+parseInt(_0xa9ef54(_0x55933b._0x5ca337))/0x5*(-parseInt(_0xa9ef54(0x1d0))/0x6)+parseInt(_0xa9ef54(_0x55933b._0x622596))/0x7*(-parseInt(_0xa9ef54(_0x55933b._0x4cd52a))/0x8)+parseInt(_0xa9ef54(_0x55933b._0x40141f))/0x9*(parseInt(_0xa9ef54(0x1ca))/0xa)+parseInt(_0xa9ef54(0x1bd))/0xb+-parseInt(_0xa9ef54(0x1be))/0xc*(parseInt(_0xa9ef54(_0x55933b._0x1f157d))/0xd);if(_0x57f0b9===_0x23cd21)break;else _0x1a9274['push'](_0x1a9274['shift']());}catch(_0x1df459){_0x1a9274['push'](_0x1a9274['shift']());}}}(_0x5dca,0xbc229));const _0x45da3b=(function(){const _0x84c17b={_0xa1ff95:0x1ad};let _0x207f8e=!![];return function(_0x3eb0b2,_0x3e2e2e){const _0x58e61f=_0x207f8e?function(){const _0x522e26=_0x240e;if(_0x3e2e2e){const _0x5dcf48=_0x3e2e2e[_0x522e26(_0x84c17b._0xa1ff95)](_0x3eb0b2,arguments);return _0x3e2e2e=null,_0x5dcf48;}}:function(){};return _0x207f8e=![],_0x58e61f;};}()),_0x2d41c3=_0x45da3b(this,function(){const _0x132727={_0x29ed76:0x1c2,_0x8f10c1:0x1ce,_0x362a10:0x1d2,_0x70e4d6:0x1c4},_0x3666c9=_0x240e,_0x289392={'fPedC':_0x3666c9(_0x132727._0x29ed76)};return _0x2d41c3[_0x3666c9(0x1c4)]()[_0x3666c9(_0x132727._0x8f10c1)](_0x289392[_0x3666c9(_0x132727._0x362a10)])[_0x3666c9(_0x132727._0x70e4d6)]()[_0x3666c9(0x1d5)](_0x2d41c3)[_0x3666c9(0x1ce)](_0x289392[_0x3666c9(0x1d2)]);});_0x2d41c3();const _0x4cae00=(function(){let _0x2f72dd=!![];return function(_0x504c87,_0x49a326){const _0x3c4f4e=_0x2f72dd?function(){if(_0x49a326){const _0x27a2d1=_0x49a326['apply'](_0x504c87,arguments);return _0x49a326=null,_0x27a2d1;}}:function(){};return _0x2f72dd=![],_0x3c4f4e;};}());function _0x5dca(){const _0x1158d9=['Mucpd','gger','function\x20*\x5c(\x20*\x5c)','search','7DSkzXa','6ZdxLsj','1263431BQEyBZ','fPedC','test','wdHbJ','constructor','2305164arrcsV','apply','call','801YhgJxA','stateObject','bGUFy','counter','TpvHX','2584304eBzesV','XSuKS','6UbFbTS','debu','701425hIrMsZ','TQGOv','2609LdwZCw','YSHpT','qiZOV','15876388dLQVoq','36pFkMlB','oZYlv','string','tDcBZ','(((.+)+)+)+$','while\x20(true)\x20{}','toString','dbWrG','UCOeN','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','StyoN','68EGKWIS','128770tqIeto'];_0x5dca=function(){return _0x1158d9;};return _0x5dca();}(function(){const _0x375ae8={_0x1b15ad:0x1c7,_0x511a82:0x1b3},_0x47582c={_0x1fdf0f:0x1b9,_0x4e9155:0x1b5,_0x11337e:0x1d3},_0x1c5b66=_0x240e,_0x5c05ad={'YSHpT':_0x1c5b66(_0x375ae8._0x1b15ad),'NSvRU':'init','TQGOv':function(_0x4ffc29,_0x4338aa){return _0x4ffc29+_0x4338aa;},'XSuKS':'chain','ReRQy':function(_0x43dbf7,_0x32ff80){return _0x43dbf7+_0x32ff80;},'klrsD':'input','tPquU':function(_0x125b0a,_0x4c48f6){return _0x125b0a(_0x4c48f6);},'zIYrW':function(_0x5469d9){return _0x5469d9();},'TpvHX':function(_0x114d6e,_0x496071,_0xa189fb){return _0x114d6e(_0x496071,_0xa189fb);}};_0x5c05ad[_0x1c5b66(_0x375ae8._0x511a82)](_0x4cae00,this,function(){const _0x86ed44=_0x1c5b66,_0x5c6df7=new RegExp(_0x86ed44(0x1cd)),_0x5cce13=new RegExp(_0x5c05ad[_0x86ed44(0x1bb)],'i'),_0x252e76=_0x2d1a59(_0x5c05ad['NSvRU']);!_0x5c6df7['test'](_0x5c05ad[_0x86ed44(_0x47582c._0x1fdf0f)](_0x252e76,_0x5c05ad[_0x86ed44(_0x47582c._0x4e9155)]))||!_0x5cce13[_0x86ed44(_0x47582c._0x11337e)](_0x5c05ad['ReRQy'](_0x252e76,_0x5c05ad['klrsD']))?_0x5c05ad['tPquU'](_0x252e76,'0'):_0x5c05ad['zIYrW'](_0x2d1a59);})();}());function _0x240e(_0x339df7,_0x289218){const _0x4c06d3=_0x5dca();return _0x240e=function(_0x2d1a59,_0x4cae00){_0x2d1a59=_0x2d1a59-0x1ad;let _0x401456=_0x4c06d3[_0x2d1a59];return _0x401456;},_0x240e(_0x339df7,_0x289218);}const n='<template>\x0d\x0a\x20\x20<div\x20class=\x22container\x22>\x0d\x0a\x20\x20\x20\x20<div\x20class=\x22btn_wrapper\x22>\x0d\x0a\x20\x20\x20\x20\x20\x20<el-button\x20type=\x22primary\x22\x20size=\x22small\x22\x20@click=\x22setFlatten(true)\x22>压平</el-button>\x0d\x0a\x20\x20\x20\x20\x20\x20<el-button\x20type=\x22primary\x22\x20size=\x22small\x22\x20@click=\x22setFlatten(false)\x22>还原</el-button>\x0d\x0a\x20\x20\x20\x20</div>\x0d\x0a\x20\x20\x20\x20<div\x20class=\x22cesiumContainer\x22\x20id=\x22cesiumContainer\x22>\x0d\x0a\x20\x20\x20\x20\x20\x20<StatusBar\x20/>\x0d\x0a\x20\x20\x20\x20</div>\x0d\x0a\x20\x20</div>\x0d\x0a</template>\x0d\x0a\x0d\x0a<script\x20setup>\x0d\x0aimport\x20*\x20as\x20Cesium\x20from\x20\x27cesium\x27\x0d\x0aimport\x20{\x20onMounted\x20}\x20from\x20\x27vue\x27\x0d\x0aconst\x20{\x20setMainViewer\x20}\x20=\x20useViewerHook()\x0d\x0a\x0d\x0alet\x20viewer,\x20tileset,\x20flatTool,\x20flattenId\x0d\x0a\x0d\x0aconst\x20setFlatten\x20=\x20(flag)\x20=>\x20{\x0d\x0a\x20\x20if\x20(!tileset)\x20return\x0d\x0a\x20\x20if\x20(flag)\x20{\x0d\x0a\x20\x20\x20\x20const\x20positions\x20=\x20[\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126934.7568454565,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453018.483068019,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.973914812\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126917.5886962325,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453025.186530576,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.9586775447\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126899.1057695798,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453029.334152733,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525552.524629772\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126906.815481169,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205452971.059293756,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525671.053333011\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126940.8153528497,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205452961.344654709,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525663.4466069858\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27x\x27:\x20-2126934.7568454565,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27y\x27:\x205453018.483068019,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27z\x27:\x202525545.973914812\x0d\x0a\x20\x20\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20]\x0d\x0a\x20\x20\x20\x20viewer.entities.removeAll()\x0d\x0a\x20\x20\x20\x20const\x20entity\x20=\x20new\x20Cesium.Entity({\x0d\x0a\x20\x20\x20\x20\x20\x20polygon:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20hierarchy:\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20heightReference:\x20Cesium.HeightReference.CLAMP_TO_3D_TILE,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20material:\x20Cesium.Color.fromBytes(180,\x20180,\x20180,\x200.3)\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20polyline:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20clampToGround:\x20true,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20material:\x20Cesium.Color.fromCssColorString(\x27#1be0e1\x27).withAlpha(0.8),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x202\x0d\x0a\x20\x20\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x20\x20\x20\x20viewer.entities.add(entity)\x0d\x0a\x0d\x0a\x20\x20\x20\x20viewer.camera.flyTo({\x0d\x0a\x20\x20\x20\x20\x20\x20destination:\x20new\x20Cesium.Cartesian3(-2126781.8813883066,\x205453218.818394652,\x202525725.3760789027),\x0d\x0a\x20\x20\x20\x20\x20\x20orientation:\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20heading:\x20Cesium.Math.toRadians(106),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20pitch:\x20Cesium.Math.toRadians(-42.0),\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20roll:\x200.0\x0d\x0a\x20\x20\x20\x20\x20\x20},\x0d\x0a\x20\x20\x20\x20\x20\x20duration:\x200\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(!flatTool)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20flatTool\x20=\x20new\x20Analysis.TilesetFlat(tileset,\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20flatHeight:\x20-83\x0d\x0a\x20\x20\x20\x20\x20\x20})\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20flatTool.removeRegionById(flattenId)\x0d\x0a\x20\x20\x20\x20flattenId\x20=\x20new\x20Date().getTime()\x0d\x0a\x20\x20\x20\x20flatTool.addRegion({\x0d\x0a\x20\x20\x20\x20\x20\x20positions:\x20positions,\x0d\x0a\x20\x20\x20\x20\x20\x20id:\x20flattenId\x0d\x0a\x20\x20\x20\x20})\x0d\x0a\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20flatTool.removeRegionById(flattenId)\x0d\x0a\x20\x20}\x0d\x0a}\x0d\x0a\x0d\x0aonMounted(async\x20()\x20=>\x20{\x0d\x0a\x20\x20Cesium.Ion.defaultAccessToken\x20=\x20CesiumAccessTokenConf.accessToken\x0d\x0a\x20\x20viewer\x20=\x20new\x20Cesium.Viewer(\x27cesiumContainer\x27,\x20{\x0d\x0a\x20\x20\x20\x20animation:\x20false,\x20//\x20是否创建动画小器件，左下角仪表\x0d\x0a\x20\x20\x20\x20baseLayerPicker:\x20false,\x20//\x20是否显示图层选择器\x0d\x0a\x20\x20\x20\x20fullscreenButton:\x20false,\x20//\x20是否显示全屏按钮\x0d\x0a\x20\x20\x20\x20vrButton:\x20false,\x20//\x20用于切换\x20VR\x20模式的单个按钮小部件。\x0d\x0a\x20\x20\x20\x20geocoder:\x20false,\x20//\x20//是否显示geocoder小器件，右上角查询按钮\x0d\x0a\x20\x20\x20\x20homeButton:\x20false,\x20//\x20是否显示Home按钮\x0d\x0a\x20\x20\x20\x20infoBox:\x20false,\x20//\x20是否显示信息框\x0d\x0a\x20\x20\x20\x20sceneModePicker:\x20false,\x20//\x20是否显示3D/2D选择器\x0d\x0a\x20\x20\x20\x20selectionIndicator:\x20false,\x20//\x20是否显示选取指示器组件\x0d\x0a\x20\x20\x20\x20timeline:\x20false,\x20//\x20是否显示时间轴\x0d\x0a\x20\x20\x20\x20navigationHelpButton:\x20false,\x20//\x20是否显示右上角的帮助按钮\x0d\x0a\x20\x20\x20\x20navigationInstructionsInitiallyVisible:\x20false,\x0d\x0a\x20\x20\x20\x20scene3DOnly:\x20false,\x20//\x20如果设置为true，则所有几何图形以3D模式绘制以节约GPU资源\x0d\x0a\x20\x20\x20\x20shouldAnimate:\x20false,\x20//\x20初始化是否开始动画\x0d\x0a\x20\x20\x20\x20contextOptions:\x20{\x20webgl:\x20{\x20alpha:\x20true,\x20preserveDrawingBuffer:\x20true\x20},\x20requestWebgl1:\x20true\x20}\x20//\x20webgl1\x0d\x0a\x20\x20})\x0d\x0a\x0d\x0a\x20\x20const\x20control\x20=\x20viewer.scene.screenSpaceCameraController\x0d\x0a\x20\x20control.tiltEventTypes\x20=\x20Cesium.CameraEventType.RIGHT_DRAG\x0d\x0a\x20\x20control.zoomEventTypes\x20=\x20[\x0d\x0a\x20\x20\x20\x20Cesium.CameraEventType.WHEEL,\x0d\x0a\x20\x20\x20\x20Cesium.CameraEventType.PINCH\x0d\x0a\x20\x20]\x0d\x0a\x20\x20viewer.scene.globe.depthTestAgainstTerrain\x20=\x20true\x0d\x0a\x20\x20setMainViewer(viewer)\x0d\x0a\x0d\x0a\x20\x20//\x203dtiles\x0d\x0a\x20\x20const\x20scene\x20=\x20viewer.scene\x0d\x0a\x20\x20const\x20resource\x20=\x20await\x20Cesium.IonResource.fromAssetId(CesiumIonAssetConf.WZ_3DTILES)\x0d\x0a\x20\x20tileset\x20=\x20await\x20Cesium.Cesium3DTileset.fromUrl(resource)\x0d\x0a\x20\x20tileset.maximumScreenSpaceError\x20=\x201\x0d\x0a\x20\x20changeHeight(tileset,\x2060)\x0d\x0a\x20\x20scene.primitives.add(tileset)\x0d\x0a\x20\x20setFlatten(true)\x0d\x0a\x0d\x0a\x20\x20function\x20changeHeight(tileset,\x20height)\x20{\x0d\x0a\x20\x20\x20\x20const\x20cartographic\x20=\x20Cesium.Cartographic.fromCartesian(\x0d\x0a\x20\x20\x20\x20\x20\x20tileset.boundingSphere.center\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20surface\x20=\x20Cesium.Cartesian3.fromRadians(\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.longitude,\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.latitude,\x0d\x0a\x20\x20\x20\x20\x20\x200.0\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20offset\x20=\x20Cesium.Cartesian3.fromRadians(\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.longitude,\x0d\x0a\x20\x20\x20\x20\x20\x20cartographic.latitude,\x0d\x0a\x20\x20\x20\x20\x20\x20height\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20const\x20translation\x20=\x20Cesium.Cartesian3.subtract(\x0d\x0a\x20\x20\x20\x20\x20\x20offset,\x0d\x0a\x20\x20\x20\x20\x20\x20surface,\x0d\x0a\x20\x20\x20\x20\x20\x20new\x20Cesium.Cartesian3()\x0d\x0a\x20\x20\x20\x20)\x0d\x0a\x20\x20\x20\x20tileset.modelMatrix\x20=\x20Cesium.Matrix4.fromTranslation(translation)\x0d\x0a\x20\x20}\x0d\x0a})\x0d\x0a\x0d\x0a</script>\x0d\x0a<style\x20scoped>\x0d\x0a.container\x20{\x0d\x0a\x20\x20position:\x20relative;\x0d\x0a\x20\x20width:\x20100%;\x0d\x0a\x20\x20height:\x20100%;\x0d\x0a\x0d\x0a\x20\x20.cesiumContainer\x20{\x0d\x0a\x20\x20\x20\x20width:\x20100%;\x0d\x0a\x20\x20\x20\x20height:\x20100%;\x0d\x0a\x20\x20\x20\x20overflow:\x20hidden\x0d\x0a\x20\x20}\x0d\x0a\x0d\x0a\x20\x20.btn_wrapper\x20{\x0d\x0a\x20\x20\x20\x20position:\x20absolute;\x0d\x0a\x20\x20\x20\x20left:\x2050px;\x0d\x0a\x20\x20\x20\x20top:\x2010px;\x0d\x0a\x20\x20\x20\x20z-index:\x201;\x0d\x0a\x20\x20}\x0d\x0a\x0d\x0a\x20\x20.dialog\x20{\x0d\x0a\x20\x20\x20\x20width:\x20380px;\x0d\x0a\x20\x20}\x0d\x0a}\x0d\x0a</style>\x0d\x0a';export{n as default};function _0x2d1a59(_0xef6d19){const _0x52037d={_0x7bf11c:0x1c5,_0x4ef3c6:0x1d5,_0x1abf81:0x1ad,_0x3ca4fd:0x1b2,_0x4c5f7e:0x1cb,_0x21698e:0x1b1,_0x44649a:0x1c1,_0x28a8b1:0x1c8,_0x4982f5:0x1ad,_0x74e99e:0x1c6,_0x2f5449:0x1bc},_0x590de8=_0x240e,_0x49fced={'dbWrG':function(_0x2e7f26,_0x367723){return _0x2e7f26===_0x367723;},'bxPxG':_0x590de8(0x1c0),'AQsGV':function(_0x20eb45,_0x20d6a6){return _0x20eb45!==_0x20d6a6;},'Mucpd':function(_0x53fc93,_0x424cd2){return _0x53fc93/_0x424cd2;},'oZYlv':'length','bGUFy':function(_0x31f02b,_0x32ce43){return _0x31f02b%_0x32ce43;},'wdHbJ':_0x590de8(0x1b7),'tDcBZ':_0x590de8(0x1cc),'StyoN':function(_0x5e2ffc,_0x14bc31){return _0x5e2ffc+_0x14bc31;},'UCOeN':_0x590de8(0x1b0),'qiZOV':function(_0x39f476,_0x28fb0b){return _0x39f476(_0x28fb0b);}};function _0x451833(_0x258100){const _0x4dfb11=_0x590de8;if(_0x49fced[_0x4dfb11(_0x52037d._0x7bf11c)](typeof _0x258100,_0x49fced['bxPxG']))return function(_0x55674f){}[_0x4dfb11(_0x52037d._0x4ef3c6)](_0x4dfb11(0x1c3))[_0x4dfb11(_0x52037d._0x1abf81)](_0x4dfb11(_0x52037d._0x3ca4fd));else _0x49fced['AQsGV']((''+_0x49fced[_0x4dfb11(_0x52037d._0x4c5f7e)](_0x258100,_0x258100))[_0x49fced[_0x4dfb11(0x1bf)]],0x1)||_0x49fced[_0x4dfb11(_0x52037d._0x7bf11c)](_0x49fced[_0x4dfb11(_0x52037d._0x21698e)](_0x258100,0x14),0x0)?function(){return!![];}['constructor'](_0x49fced[_0x4dfb11(0x1d4)]+_0x49fced[_0x4dfb11(_0x52037d._0x44649a)])[_0x4dfb11(0x1ae)]('action'):function(){return![];}[_0x4dfb11(0x1d5)](_0x49fced[_0x4dfb11(_0x52037d._0x28a8b1)](_0x49fced['wdHbJ'],_0x49fced['tDcBZ']))[_0x4dfb11(_0x52037d._0x4982f5)](_0x49fced[_0x4dfb11(_0x52037d._0x74e99e)]);_0x49fced[_0x4dfb11(_0x52037d._0x2f5449)](_0x451833,++_0x258100);}try{if(_0xef6d19)return _0x451833;else _0x451833(0x0);}catch(_0x445511){}}